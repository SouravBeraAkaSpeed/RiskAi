import { code } from "@/types";

export const prompt_example = `These are the responses from the previous analysis of the same code by you using different context , include them with new context and give new analysis -  Analysis 1 : { inherent risk: moderate , inherent_risk_score: 2 , mitigating_control: low , mititgating_control_score: 1 , Document_used_for_analysis: Customer Base Risk Assessment;Specific_part: Low Risk Criteria ;Page_number_of_specific_part: 3} Reasoning: The inherent risk is moderate because the customer base is increasing due to branching, merger, or acquisition.This could increase the likelihood of suspicious transactions. However, the mitigating control score is low because there is no specific information provided about controls in place to mitigate these risks. The specific part from the Low Risk Criteria section is relevant because it provides guidance on what constitutes a stable homogenous community bank with predominately consumer customers , Analysis 2 :{ inherent risk: moderate , inherent_risk_score: 2 , mitigating_control: moderate , mititgating_control_score: 2 , Document_used_for_analysis: Customer Base Risk Assessment;Specific_part: Low Risk Criteria ;Page_number_of_specific_part: 3} Reasoning: The inherent risk is moderate because the customer base is increasing due to branching, merger, or acquisition, which could increase the likelihood of suspicious transactions. However, the mitigating control score is moderate because the code does not provide specific information about controls in place to mitigate these risks. The specific part from the Low Risk Criteria section provides guidance on what constitutes a stable homogenous community bank with predominately consumer customers, but it does not specifically address the increasing customer base due to branching, merger, or acquisition. Therefore, I assess the mitigating control as moderate, indicating that some controls are in place but more could be done to effectively mitigate the risks associated with the increasing customer base. Code that you have to analyze is : { code : "CB" , risk_category: "Customer Base" , Low Risk Criteria : "Stable homogenous community bank, customers are predominately consumers." , Moderate_Risk_criteria : "Customer base increasing due to branching, merger, or acquisition. Customer base is regional." , High_risk_criteria:"Customer base derived from doing business in high risk geographic locations (domestic and foreign) or a diverse metropolitan area." } . Now if the given context have information then provide the response in this format :{ inherent risk: (low|moderate|high) , inherent_risk_score:(1|2|3), mitigating_control:(low|moderate|high) , mititgating_control_score:(1|2|3),Document_used_for_analysis,specific_part,page_number_of_specific_part}. Document_used_for_analysis meaning  the document name used for analysis ,Sepcific_part meaning the information about sepecfic part of the document used for analysis and at last page_no_specific_part meaning  the page number from the document from which the specific part belongs to in Whole Number. Exmple Response for your understanding ,{ inherent risk: moderate , inherent_risk_score: 2 , mitigating_control: high ,mitigating_control_score: 3 , Document_used_for_analysis: AML Compliance Program;Specific_part: Section 4.e (Joint Filing of SARs with Other Financial Institutions) ,Page_number_of_specific_part: 14} Reasoning: The inherent risk is moderate because the customer base is increasing due to branching, merger, or acquisition, and the customer base is regional. This could increase the likelihood of suspicious transactions. However, the mitigating control score is high because the bank has an AML compliance program that includes training for employees on identifying red flags and signs of money laundering, as well as independent review of the program by a third-party service provider (SIRS). This suggests that the bank has taken steps to mitigate the risks associated with its increasing customer base. The specific part from Section 4.e (Joint Filing of SARs with Other Financial Institutions) is relevant because it shows that the bank has a process in place for jointly filing SARs with other financial institutions, which could help identify and report suspicious transactions. }`;

export const create_prompt = (code: code, previous_analysis: string) => {
  return (
    `${
      previous_analysis &&
      `These are the responses from the previous analysis of the same code by you using different context , include them with new context and give new analysis - ${previous_analysis}`
    } ` +
    ` . Banking Risk Category Code that you have to analyze is : ${JSON.stringify(
      code
    )} . Now use the given context and your knowledge for analysis then provide the response in this format :{ inherent risk: (low|moderate|high) , inherent_risk_score:(1|2|3), mitigating_control:(low|moderate|high) , mititgating_control_score:(1|2|3),Document_used_for_analysis,specific_part,page_number_of_specific_part}. Document_used_for_analysis meaning  the document name used for analysis ,Sepcific_part meaning the information about sepecfic part of the document used for analysis and at last page_no_specific_part meaning  the page number from the document from which the specific part belongs to in Whole Number. Exmple Response for your understanding ,{ inherent risk: moderate , inherent_risk_score: 2 , mitigating_control: high ,mitigating_control_score: 3 , Document_used_for_analysis: AML Compliance Program;Specific_part: Section 4.e (Joint Filing of SARs with Other Financial Institutions) ,Page_number_of_specific_part: 14} Reasoning: The inherent risk is moderate because the customer base is increasing due to branching, merger, or acquisition, and the customer base is regional. This could increase the likelihood of suspicious transactions. However, the mitigating control score is high because the bank has an AML compliance program that includes training for employees on identifying red flags and signs of money laundering, as well as independent review of the program by a third-party service provider (SIRS). This suggests that the bank has taken steps to mitigate the risks associated with its increasing customer base. The specific part from Section 4.e (Joint Filing of SARs with Other Financial Institutions) is relevant because it shows that the bank has a process in place for jointly filing SARs with other financial institutions, which could help identify and report suspicious transactions. } . KEEP IN MIND IT IS NECCESSARY TO PROVIDE RESPONSE IN THE GIVEN FORMAT`
  );
};

export const create_model = (context: string) => {
  return `FROM llama3
  TEMPLATE """
  
  {{ if .System }}<|start_header_id|>system<|end_header_id|>
  
  {{ .System }}<|eot_id|>{{ end }}{{ if .Prompt }}<|start_header_id|>prompt<|end_header_id|>
  
  {{ .Prompt }}<|eot_id|>{{ end }}<|start_header_id|>assistant<|end_header_id|>
  
  {{ .Response }}<|eot_id|>
  """
  
  SYSTEM """You are an Ai , whose job is to analyze the inherent risks of a banking system . First user_prompt given to you is the context of data that you will use to analyze the banking system and paired input will have information about the risk code that you have to analyze . Write a response that appropriately completes the request.  And while giving response don't provide any additional data, if the context doesn't have data reuired for analysis of code then simply say provided data is not suffiecient for this code analysis , And your response should contain Inherent Risk Category , Inherent Risk Score , Mitigating controls , mitigating control score , Document Name used for analysis , specific part of context used in analaysis and page Number of that specific part used.
  
  Context : {{${context}}}
  
  """
  
  # Set parameters
  
  PARAMETER stop "<|start_header_id|>"
  PARAMETER stop "<|end_header_id|>"
  PARAMETER stop "<|eot_id|>"
  PARAMETER num_predict 5000
  PARAMETER num_ctx 20000`;
};

export const print_out_prompt_example = ` analysis of Code : Customer Base :  The inherent risk is moderate because the customer base is increasing due to branching, mergers, or acquisitions, and the customer base is regional. This could increase the likelihood of suspicious transactions. Additionally, the high-risk geographic locations (domestic and foreign) or a diverse metropolitan area where the bank operates may also contribute to the moderate inherent risk.However, the mitigating control score is high because the bank has a Customer Base risk category code that provides guidance on managing this type of risk. The code suggests that the bank should have processes in place for monitoring customer activity and identifying potential red flags or signs of money laundering. This suggests that the bank has taken steps to mitigate the risks associated with its increasing customer base.The specific part from Section 4.1 (Risk Assessment) is relevant because it shows that the bank has a process in place for assessing and managing risk, which could help identify and report suspicious transactions. analysis of Code : NRA Customers : The inherent risk is moderate because the bank has a significant number of NRA accounts from higher-risk geographies, which increases the likelihood of suspicious transactions. This could lead to potential money laundering or terrorist financing risks. However, the mitigating control score is high because the bank has implemented measures to identify and assess these risks through its Risk Management Framework. Specifically, Section 1.4 (Risk Assessment) outlines the process for identifying, assessing, and prioritizing risks, which includes monitoring customer activity and reporting suspicious transactions.The specific part from Section 1.4 (Risk Assessment) is relevant because it shows that the bank has a structured approach to risk management, which could help identify and mitigate potential risks associated with its NRA customers.analysis of Code : International accounts : The inherent risk is moderate because the code "IA" indicates that there are international accounts, which can increase the likelihood of suspicious transactions due to the complexity and anonymity associated with international transactions. Additionally, the description "Few interacnational accounts or very low volume of currency activity in the accounts." suggests that the bank may not have a significant presence in international markets, which could also contribute to the moderate risk level.The mitigating control score is high because the code "IA" indicates that there are international accounts, and the description suggests that the bank has some controls in place to monitor these accounts. The fact that the bank has an AML compliance program and independent review of the program by a third-party service provider (SIRS) also suggests that the bank has taken steps to mitigate the risks associated with its international accounts.The specific part from Section 1.2 (International accounts) is relevant because it highlights the importance of monitoring international transactions, which can help identify and report suspicious activities.Using the Above the risk code analysis write the Inherent Risk Analysis Report for Bank SOURAVBERA in the format given in the context.
`;

export const create_print_out_prompt = (
  analysis_data: string,
  bankName: string
) => {
  return ` ${analysis_data}.Using the Above the risk code analysis write the Inherent Risk Analysis Report for Bank ${bankName} in the format explained in the context. The report Should be very detailed and should consist atleast 3000 words.
`;
};
